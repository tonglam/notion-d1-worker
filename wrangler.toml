# Worker Configuration
name = "notion-d1-worker"
main = "src/index.ts"
compatibility_date = "2024-03-21"

# D1 Database Configuration
[[d1_databases]]
binding = "DB"
database_name = "notion-posts"
database_id = "9fd328fe-c2a1-4bfe-aa8e-b8993ec3e49d"

# Cron Trigger Configuration
[triggers]
crons = ["0 5 * * *"]   # Run daily at 5 AM UTC

[observability]
enabled = true

# Environment Variables
[vars]
# Set in Cloudflare dashboard or use `wrangler secret put`
NOTION_DATABASE_ID = "1ab7ef86-a5ad-81ab-a4cb-f8b8f37ec491"

# Secrets (Do not set here)
# Use `wrangler secret put NOTION_TOKEN` to set your Notion API token securely 